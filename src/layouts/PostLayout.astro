---
import BaseLayout from './BaseLayout.astro';
import TableOfContents from '../components/TableOfContents.astro';

export interface Props {
  frontmatter: {
    title: string;
    date: string;
    tags?: string[];
  };
}

const { frontmatter } = Astro.props;
const { title, date, tags } = frontmatter;
---

<BaseLayout title={title}>
  <article class="prose prose-lg max-w-none">
    <header class="mb-8">
      <h1 class="text-3xl font-bold mb-2">{title}</h1>
      <time class="text-gray-600 text-sm">{new Date(date).toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      })}</time>
      {tags && tags.length > 0 && (
        <div class="mt-2">
          {tags.map(tag => (
            <a 
              href={`/tags/${tag}`}
              class="inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded mr-2 hover:bg-gray-200 transition-colors"
            >
              {tag}
            </a>
          ))}
        </div>
      )}
    </header>
    
    <div class="post-content">
      <TableOfContents />
      <slot />
    </div>
  </article>
</BaseLayout>